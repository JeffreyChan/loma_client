(function(){angular.module("underscore",[]);angular.module("underscore").factory("_",["$window",function(e){return e._}]);angular.module("lomaApp",["underscore","ngRoute","ngSanitize","ui.bootstrap"]);function e(e,o){e.when("/",{templateUrl:"/tmp/home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/category-list",{templateUrl:"/tmp/category/category.view.html",controller:"categoryCtrl",controllerAs:"vm"}).when("/sya",{template:"<h1>hell</h1>"}).when("/register",{template:"<h1>hell</h1>"}).when("/login",{template:"<h1>hell</h1>"}).otherwise({redirectTo:"/"});o.html5Mode(true)}angular.module("lomaApp").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("lomaApp").controller("dashboradCtrl",e);e.$inject=["$scope"];function e(e){e.loadingView=true;console.log("hello DashBorad")}})();(function(){angular.module("lomaApp").controller("homeCtrl",e);e.$inject=["$scope"];function e(e){if(window.location.pathname!=="/"){window.location.href="/#"+window.location.pathname}var o=this;o.message="yes";console.log("hello world")}})();(function(){angular.module("lomaApp").controller("categoryCtrl",e);e.$inject=["$scope","$uibModal","commonService","popupService","categoryService"];function e(e,o,t,r,n){var a=this;a.errorMessage="";n.getCategoryList().success(function(e){a.errorMessage=e.length>0?"":"No category found!";a.catListData=e}).error(function(e){a.errorMessage="Sorry, something's gone wrong, please try again later"});a.popupCreateOrUpdateForm=function(e){var o={closeButtonText:"Cancel",okButtonText:"Sumbit",headerText:t.isEmptyOrNull(e)?"Create Category":"Update Category",bodyText:""};var n={templateUrl:"tmp/category/updatecreate.view.html",controller:"catCreateOrUpdateCtrl",controllerAs:"vm",resolve:{modalData:function(){return{options:o,entity:_.find(a.catListData,function(o){return _.isEqual(o._id,e)})}}}};r.showModal(n,o).then(function(e){console.log(e)})}}})();(function(){angular.module("lomaApp").controller("catCreateOrUpdateCtrl",e);e.$inject=["$scope","commonService","$uibModalInstance","modalData","categoryService"];function e(e,o,t,r,n){var a=this;a.catList=[];n.getRootCategory().success(function(e){a.catList=e.entity;a.formData.parent=a.catList[0]._id}).error(function(e){a.errorMessage="Sorry, something's gone wrong, please try again later"});a.modalData=r;a.errorMessage="";a.modal={ok:function(e){t.close(e)},cancel:function(){t.dismiss("cancel")}};a.formData=a.modalData.entity||{};a.onSubmit=function(){if(o.isEmptyOrNull(a.formData._id)){n.createCategory(a.formData).success(function(e){console.log("right");a.modal.ok(e)}).error(function(e){a.formError="category has not been saved, please try again"});return false}else{return false}};a.doAddCategory=function(e){}}})();(function(){angular.module("lomaApp").service("categoryService",e);e.$inject=["$http"];function e(e){var o="http://localhost:2000";var t=function(){return e.get(o+"/api/category")};var r=function(){return e.get(o+"/api/category/root")};var n=function(t){console.log("go,go");return e.post(o+"/api/category",t,{headers:{"Content-Type":"application/json"}})};return{getCategoryList:t,getRootCategory:r,createCategory:n}}})();(function(){angular.module("lomaApp").service("popupService",e);e.$inject=["$uibModal"];function e(e){var o={animation:true,backdrop:true,keyboard:true,templateUrl:"/tmp/common/views/modal.view.html"};var t={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?"};this.showModal=function(e,o){e=e||{};e.backdrop="static";return this.show(e,o)};this.show=function(r,n){var a={};var l={};angular.extend(a,o,r);angular.extend(l,t,n);if(!a.controller){c.$inject=["$scope","$uibModalInstance"];function c(e,o){e.modalOptions=l;e.modalOptions.ok=function(e){o.close(e)};e.modalOptions.close=function(){o.dismiss("cancel")}}a.controller=c}return e.open(a).result}}})();(function(){angular.module("lomaApp").service("commonService",e);e.$inject=["$http","_"];function e(e,o){var t=function(e){return o.isEmpty(e)||e===null||o.isUndefined(e)};return{isEmptyOrNull:t}}})();