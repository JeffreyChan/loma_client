(function(){angular.module("underscore",[]);angular.module("underscore").factory("_",["$window",function(o){return o._}]);angular.module("lomaApp",["underscore","ngRoute","ngSanitize","ui.bootstrap"]);function o(o,t){o.when("/",{templateUrl:"/tmp/home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/category-list",{templateUrl:"/tmp/category/category.view.html",controller:"categoryCtrl",controllerAs:"vm"}).when("/sya",{template:"<h1>hell</h1>"}).when("/register",{template:"<h1>hell</h1>"}).when("/login",{template:"<h1>hell</h1>"}).otherwise({redirectTo:"/"});t.html5Mode(true)}angular.module("lomaApp").config(["$routeProvider","$locationProvider",o])})();(function(){angular.module("lomaApp").controller("dashboradCtrl",o);o.$inject=["$scope"];function o(o){o.loadingView=true;console.log("hello DashBorad")}})();(function(){angular.module("lomaApp").controller("homeCtrl",o);o.$inject=["$scope"];function o(o){if(window.location.pathname!=="/"){window.location.href="/#"+window.location.pathname}var t=this;t.message="yes";console.log("hello world")}})();(function(){angular.module("lomaApp").controller("categoryCtrl",o);o.$inject=["$scope","$uibModal","commonService","popupService","categoryService"];function o(o,t,e,r,n){var a=this;a.formError="";n.getCategoryList().success(function(o){a.formError=o.length>0?"":"No category found!";a.catListData=o}).error(function(o){a.formError="Sorry, something's gone wrong, please try again later"});a.popupCreateOrUpdateForm=function(o){var t={closeButtonText:"Cancel",okButtonText:"Sumbit",headerText:e.isEmptyOrNull(o)?"Create Category":"Update Category",bodyText:""};var n={templateUrl:"tmp/category/updatecreate.view.html",controller:"catCreateOrUpdateCtrl",controllerAs:"vm",resolve:{modalData:function(){return{options:t,entity:_.find(a.catListData,function(t){return _.isEqual(t._id,o)})}}}};r.showModal(n,t).then(function(o){console.log(o)})}}})();(function(){angular.module("lomaApp").controller("catCreateOrUpdateCtrl",o);o.$inject=["$scope","commonService","$uibModalInstance","modalData","categoryService"];function o(o,t,e,r,n){var a=this;a.catList=[];n.getRootCategory().success(function(o){a.catList=o.entity;a.formData.parent=a.catList[0]._id}).error(function(o){a.formError="Sorry, something's gone wrong, please try again later"});a.modalData=r;a.formError="";a.modal={ok:function(o){e.close(o)},cancel:function(){e.dismiss("cancel")}};a.formData=a.modalData.entity||{};a.onSubmit=function(){if(t.isEmptyOrNull(a.formData._id)){a.doAddCategory(a.formData)}else{return false}};a.doAddCategory=function(o){n.createCategory(o).success(function(o){console.log("right");a.modal.ok(o)}).error(function(o){a.formError=o.error});return false}}})();(function(){angular.module("lomaApp").service("categoryService",o);o.$inject=["$http"];function o(o){var t="http://localhost:2000";var e=function(){return o.get(t+"/api/category")};var r=function(){return o.get(t+"/api/category/root")};var n=function(e){console.log("go,go");return o.post(t+"/api/category",e,{headers:{"Content-Type":"application/json"}})};return{getCategoryList:e,getRootCategory:r,createCategory:n}}})();(function(){angular.module("lomaApp").service("popupService",o);o.$inject=["$uibModal"];function o(o){var t={animation:true,backdrop:true,keyboard:true,templateUrl:"/tmp/common/views/modal.view.html"};var e={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?"};this.showModal=function(o,t){o=o||{};o.backdrop="static";return this.show(o,t)};this.show=function(r,n){var a={};var l={};angular.extend(a,t,r);angular.extend(l,e,n);if(!a.controller){c.$inject=["$scope","$uibModalInstance"];function c(o,t){o.modalOptions=l;o.modalOptions.ok=function(o){t.close(o)};o.modalOptions.close=function(){t.dismiss("cancel")}}a.controller=c}return o.open(a).result}}})();(function(){angular.module("lomaApp").service("commonService",o);o.$inject=["$http","_"];function o(o,t){var e=function(o){return t.isEmpty(o)||o===null||t.isUndefined(o)};return{isEmptyOrNull:e}}})();